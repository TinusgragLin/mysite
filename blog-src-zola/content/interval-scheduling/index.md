+++
title="Greedy Algo: Interval Scheduling"
description="My attack on the interval scheduling problem."
date=2022-10-03

[taxonomies]
tags = ["greedy-algo"]
categories = ["algo"]

[extra]
math=true
+++

Problem: Given a set of intervals of the form $(l,r)$, pick as many non-overlapping intervals as possible from the set.

Greedy approach: always pick the interval that 1. does not overlap with the region covered by previously picked intervals 2. has the smallest end value until all the un-picked intervals overlap with the region covered by previously picked intervals.

Let $G=g_1,g_2,g_3,\cdots,g_k$ be the sequence generated by the greedy algorithm. Now **assume that $G$ is not the optimal answer**, that is, there exist some optimal answer that includes $m$ intervals such that $m>k$, let $O$ be **any** such answer, and we **sort** its $m$ intervals by their start value (or by their end value, since they are mutually exclusive) and express $O$ as this sorted sequence:

$$O=o_1,o_2,o_3,\cdots,o_k,\cdots,o_m$$

Now we compare $O$ and $G$, and claim that **$O$ can not agree with $G$ on the first $k$ intervals** and we prove this claim by contradiction: if $O$ and $G$ do agree on the first $k$ intervals, then since $G$ stops at the $k$-th interval, that means no interval that do not overlap with the first $k$ intervals can be found, which contradict the fact that $O$ still continues after the first $k$ intervals.

Thus $O$ and $G$ can only agree on the first $l$ intervals where $0\le l<k$. Then we can construct a new sequence $S$ from $O$ by replacing $o_{l+1}$ with $g_{l+1}$:

$S=o_1,\cdots,o_{l-1},o_l,g_{l+1},o_{l+2},\cdots,o_m$

and since $O$ and $G$ agree on the first $l$ intervals, this can also be written as:

$$S=g_1,\cdots,g_{l-1},g_l,g_{l+1},o_{l+2},\cdots,o_m$$

And we claim that **no two intervals in $S$ overlap.** To see this, note that we only replaced $o_{l+1}$ with $g_{l+1}$, so if there does exist any overlap introduced by this alteration, it can only involve $g_{l+1}$. So first of all, we see that $g_{l+1}$ can not overlap with $g_1,\cdots,g_l$, the first $l$ intervals of $S$, because $g_1,\cdots,g_l,g_{l+1}$ are picked sequentially by the algorithm, which guaranteed that they do not overlap. And second, since $g_{l+1}$ is picked because it has the smallest end value of all intervals that do not overlap with $g_1,\cdots,g_{l}$ ($o_1,\cdots,o_l$) (thus includes $o_{l+1},o_{l+1},\cdots,o_m$), the end value of $g_{l+1}$ is smaller than any of $o_{l+1},o_{l+2},\cdots,o_m$. Particularly, since the end of $g_{l+1}$ is smaller than that of $o_{l+1}$, and $o_{l+2},\cdots,o_m$ all come after $o_{l+1}$, $g_{l+1}$ can not possibly overlap with $o_{l+2},\cdots,o_m$.

Since no two intervals in $S$ overlap, and it also includes $m$ intervals, we claim that $S$ is also an optimal answer of the problem, just like $O$. But now, $S$ agrees with $G$ on the first $l+1$ intervals. We can thus continue doing this until we have a sequence $S'$ that 1. is an optimal answer to the problem 2. agrees with $G$ on the first $k$ intervals. But we have proved that no optimal answer $O$ can agree with $G$ on the first $k$ interval!

This contradiction leads us to conclude that our assumption that G is not the optimal answer of the problem is **not** true.
